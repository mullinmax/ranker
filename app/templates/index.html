<!DOCTYPE html>
<html>
<head>
<link rel="stylesheet" href="/static/style.css" />
<script>
document.addEventListener('keydown', function(e) {
  const key = e.key;
  if (['1','2','3','4','5'].includes(key)) {
    document.getElementById('score').value = key;
    document.getElementById('rate-form').submit();
  }
});
function rate(val) {
  document.getElementById('score').value = val;
  document.getElementById('rate-form').submit();
}
</script>
</head>
<body>
<div class="container">
<p>
  Logged in as {{username}} |
  <a class="link" href="/logout">Logout</a>
  {% if is_admin %}| <a class="link" href="/admin">Admin</a>{% endif %}
</p>
<h1>Rate the media</h1>
{% if file %}
<img src="/media/{{file}}" alt="media" />
<form id="rate-form" action="/rate" method="post">
  <input type="hidden" id="file" name="file" value="{{file}}" />
  <input type="hidden" id="score" name="score" />
  {% for i in range(1,6) %}
    <button type="button" onclick="rate({{i}})">{{i}}</button>
  {% endfor %}
</form>
{% else %}
<p>No media files found</p>
{% endif %}
</div>
</body>
</html>
